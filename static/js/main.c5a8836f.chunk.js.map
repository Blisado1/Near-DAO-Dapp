{"version":3,"sources":["utils/config.js","utils/near.js","components/utils/Notifications.js","components/dao/Form.jsx","utils/dao.js","components/dao/Contribute.jsx","components/dao/Redeem.jsx","components/dao/Header.jsx","components/dao/Transfer.jsx","components/dao/CreateProposal.jsx","components/dao/Proposals.jsx","components/dao/index.js","components/utils/Cover.js","assets/img/DAO.jpg","App.js","reportWebVitals.js","index.js"],"names":["CONTRACT_NAME","process","environment","env","networkId","nodeUrl","contractName","walletUrl","helperUrl","explorerUrl","Error","nearEnv","a","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","contract","Contract","account","viewMethods","changeMethods","accountBalance","formatNearAmount","getAccountBalance","total","login","requestSignIn","Notification","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","Input","name","type","value","onChange","className","placeholder","id","required","htmlFor","transferShares","amountToTransfer","to","parseNearAmount","getInvestorData","Contribute","React","useState","inputValue","setInputValue","loading","setLoading","startTxn","amount","contributeToDAO","then","resp","console","log","location","reload","error","Tooltip","title","arrow","Info","color","sx","cursor","e","target","LoadingButton","onClick","variant","Redeem","amountToRedeem","redeemShares","Header","open","setOpen","userData","setUserData","balance","setBalance","getBalance","useCallback","retrieveUserData","data","useEffect","Box","Typography","style","opacity","align","fontSize","href","rel","Grid","container","spacing","width","marginY","item","Button","xs","shares","utils","format","mr","Drawer","anchor","onClose","display","flexDirection","padding","signOut","startIcon","Logout","Transfer","setAmount","sendTo","setSendTo","Proposal","setName","recipient","setRecipient","proposal","uuid4","createProposal","Proposals","proposals","setProposals","admin","setAdmin","allProposals","getProposals","retrieveData","contractParam","isFinished","now","Date","getTime","parseInt","ends","hasVoted","voters","includes","formatID","slice","length","convertTime","dateObj","toLocaleDateString","weekday","year","month","day","toLocaleString","hour","minute","hour12","startVoteTxn","proposalId","vote","startExecTxn","executeProposal","TableContainer","component","Paper","background","marginBottom","Table","minWidth","size","aria-label","TableHead","TableRow","TableCell","TableBody","reverse","map","border","scope","votes","isInvestor","ended","executed","Dao","theme","createTheme","palette","primary","light","main","dark","contrastText","ThemeProvider","alignItems","justifyContent","Cover","coverImg","minHeight","src","alt","margin","AccountBalanceWallet","defaultProps","App","Container","fluid","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","nearInitPromise","initializeContract","ReactDOM","render","StrictMode","document","getElementById","catch"],"mappings":"iSAAMA,EAAgBC,iJAAYD,eAAiB,mBA2BpCE,MAzBf,SAAqBC,GACnB,OAAQA,GACN,IAAK,UACH,MAAO,CACLC,UAAW,UACXC,QAAS,+BACTC,aAAcN,EACdO,UAAW,0BACXC,UAAW,kCACXC,YAAa,qCAEjB,IAAK,UACH,MAAO,CACLL,UAAW,UACXC,QAAS,+BACTC,aAAcN,EACdO,UAAW,kCACXC,UAAW,kCACXC,YAAa,qCAEjB,QACE,MAAMC,MAAM,wBAAD,OAAyBP,EAAzB,S,gBCnBXQ,EAAUT,EAAY,W,4CAErB,4BAAAU,EAAA,sEACcC,kBACjBC,OAAOC,OACL,CAAEC,KAAM,CAAEC,SAAU,IAAIC,YAAUC,8BAClCR,IAJC,OACCS,EADD,OAOLC,OAAOC,iBAAmB,IAAIC,mBAAiBH,GAC/CC,OAAOG,UAAYH,OAAOC,iBAAiBG,eAC3CJ,OAAOK,SAAW,IAAIC,WACpBN,OAAOC,iBAAiBM,UACxBjB,EAAQL,aACR,CAEEuB,YAAa,CACX,eACA,kBACA,WACA,iBAGFC,cAAe,CACb,kBACA,eACA,iBACA,iBACA,OACA,qBA3BD,4C,sBAiCA,SAAeC,IAAtB,+B,4CAAO,sBAAAnB,EAAA,kEACEoB,mBADF,SAEIX,OAAOC,iBAAiBM,UAAUK,oBAFtC,0BAE2DC,MAF3D,gCAGH,IAHG,4C,sBAWA,SAASC,IACdd,OAAOC,iBAAiBc,cAAczB,EAAQL,c,6BC9C1C+B,EAAe,kBACnB,cAAC,IAAD,CACEC,SAAS,gBACTC,UAAW,IACXC,iBAAe,EACfC,aAAW,EACXC,cAAY,EACZC,KAAK,EACLC,kBAAgB,EAChBC,WAAW,EACXC,cAAY,K,gBCZHC,G,OAAQ,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SACzC,OACE,sBAAKC,UAAU,oBAAf,UACE,uBACEH,KAAMA,EACNG,UAAU,cACVC,YAAaL,EACbA,KAAMA,EACNM,GAAIN,EACJE,MAAOA,EACPC,SAAUA,EACVI,UAAQ,IAEV,uBAAOC,QAASR,EAAMI,UAAU,cAAhC,SACGJ,S,2BCFF,SAASS,EAAT,GAAmD,IAAzBC,EAAwB,EAAxBA,iBAAkBC,EAAM,EAANA,GAEjD,OADAD,EAAmBE,0BAAgBF,EAAmB,IAC/CrC,OAAOK,SAAS+B,eAAe,CAAEC,mBAAkBC,OAqBrD,SAASE,EAAgBrC,GAC9B,OAAOH,OAAOK,SAASmC,gBAAgB,CAAErC,cChCpC,IAAMsC,EAAa,WAAO,IAAD,EACMC,IAAMC,SAAS,IADrB,mBACvBC,EADuB,KACXC,EADW,OAEAH,IAAMC,UAAS,GAFf,mBAEvBG,EAFuB,KAEdC,EAFc,KAIxBC,EAAQ,uCAAG,sBAAAzD,EAAA,yDACI,KAAfqD,EADW,iEAGbG,GAAW,GAHE,UDNYE,ECUJL,EDTzBK,EAASV,0BAAgBU,EAAS,IAC3BjD,OAAOK,SAAS6C,gBAAgB,GAJ7B,KAIsCD,ICQXE,MAAK,SAACC,GACrCC,QAAQC,IAAI,QACZtD,OAAOuD,SAASC,YANL,uDASbH,QAAQC,IAAI,CAAEG,MAAK,OATN,yBAWbV,GAAW,GAXE,+CDNZ,IAAwBE,ICMZ,0BAAH,qDAed,OACE,sBAAKhB,GAAG,aAAaF,UAAU,SAA/B,UACE,oBAAGA,UAAU,QAAb,4BAEE,cAAC2B,EAAA,EAAD,CAASC,MAAM,+CAA+CC,OAAK,EAAnE,SACE,cAACC,EAAA,EAAD,CAAMC,MAAM,UAAUC,GAAI,CAAEC,OAAQ,kBAGxC,cAAC,EAAD,CACErC,KAAM,iBACNC,KAAK,SACLC,MAAOe,EACPd,SAAU,SAACmC,GAAD,OAAOpB,EAAcoB,EAAEC,OAAOrC,UAE1C,cAACsC,EAAA,EAAD,CACEC,QAAS,kBAAMpB,KACfF,QAASA,EACTuB,QAAQ,YAHV,4BCjCOC,EAAS,WAAO,IAAD,EACU5B,IAAMC,SAAS,IADzB,mBACnBC,EADmB,KACPC,EADO,OAEIH,IAAMC,UAAS,GAFnB,mBAEnBG,EAFmB,KAEVC,EAFU,KAIpBC,EAAQ,uCAAG,sBAAAzD,EAAA,yDACI,KAAfqD,EADW,iEAGbG,GAAW,GAHE,UFDUwB,EEKJ3B,EFJvB2B,EAAiBhC,0BAAgBgC,EAAiB,IAC3CvE,OAAOK,SAASmE,aAAa,CAAED,oBEGHpB,MAAK,SAACC,GACnCC,QAAQC,IAAIF,GACZpD,OAAOuD,SAASC,YANL,uDASbH,QAAQC,IAAI,CAAEG,MAAK,OATN,yBAWbV,GAAW,GAXE,+CFDZ,IAAsBwB,IECV,0BAAH,qDAed,OACE,sBAAKtC,GAAG,SAASF,UAAU,SAA3B,UACE,oBAAGA,UAAU,QAAb,+BAEE,cAAC2B,EAAA,EAAD,CAASC,MAAM,+BAA+BC,OAAK,EAAnD,SACE,cAACC,EAAA,EAAD,CAAMC,MAAM,UAAUC,GAAI,CAAEC,OAAQ,kBAGxC,cAAC,EAAD,CACErC,KAAM,mBACNC,KAAK,SACLC,MAAOe,EACPd,SAAU,SAACmC,GAAD,OAAOpB,EAAcoB,EAAEC,OAAOrC,UAE1C,cAACsC,EAAA,EAAD,CACEC,QAAS,kBAAMpB,KACfF,QAASA,EACTuB,QAAQ,YAHV,wB,sDChCOI,EAAS,WAAO,IAAD,EACF9B,oBAAS,GADP,mBACnB+B,EADmB,KACbC,EADa,OAEMhC,mBAAS,IAFf,mBAEnBiC,EAFmB,KAETC,EAFS,KAIpBtE,EAAUP,OAAOC,iBAAiBM,UAJd,EAMIoC,mBAAS,KANb,mBAMnBmC,EANmB,KAMVC,EANU,KAQpBC,EAAaC,sBAAW,sBAAC,sBAAA1F,EAAA,0DACzBgB,EAAQJ,UADiB,4BAE3B4E,EAF2B,SAEVrE,IAFU,6EAI5B,CAACH,EAAQJ,YAEN+E,EAAmBD,sBAAW,sBAAC,4BAAA1F,EAAA,0DAC/BgB,EAAQJ,UADuB,gCAEdqC,EAAgBjC,EAAQJ,WAFV,OAGpB,QADPgF,EAF2B,SAI/BN,EAAYM,GAJmB,2CAOlC,CAAC5E,EAAQJ,YAOZ,OALAiF,qBAAU,WACRJ,IACAE,MACC,CAACF,EAAYE,IAGd,qCACE,cAACG,EAAA,EAAD,CAAKtD,UAAU,OAAf,SACE,eAACsD,EAAA,EAAD,CAAKtD,UAAU,WAAf,UACE,cAACsD,EAAA,EAAD,CAAKtD,UAAU,OAAf,SACE,eAACuD,EAAA,EAAD,CAAYjB,QAAQ,SAApB,iBACM,sBAAMkB,MAAO,CAAEC,QAAS,OAAxB,wBAGR,cAACF,EAAA,EAAD,CAAYG,MAAM,SAASpB,QAAQ,SAAStC,UAAU,eAAtD,sBAGA,cAACsD,EAAA,EAAD,CAAKtD,UAAU,UAAf,SACE,eAACsD,EAAA,EAAD,WACE,eAACC,EAAA,EAAD,CAAYxB,MAAO,UAAW4B,SAAS,SAAvC,UACG,IACD,sBAAMH,MAAO,CAAEzB,MAAO,WAAtB,eAFF,YAEuD,IACrD,mBACE6B,KAAI,qDAAgDpF,EAAQJ,WAC5D+D,OAAO,SACP0B,IAAI,aAHN,SAKGrF,EAAQJ,eAGb,eAAC0F,EAAA,EAAD,CAAMC,WAAS,EAACC,QAAS,EAAGC,MAAM,QAAQC,QAAS,SAAnD,UACE,eAACJ,EAAA,EAAD,CAAMK,MAAI,EAAV,UACE,cAACC,EAAA,EAAD,CAAQR,KAAK,cAAcS,GAAI,EAAGrE,UAAU,cAA5C,wBAGA,cAACoE,EAAA,EAAD,CAAQR,KAAK,UAAUS,GAAI,EAAGrE,UAAU,cAAxC,8BAIF,eAAC8D,EAAA,EAAD,CAAMK,MAAI,EAAV,UACE,cAACC,EAAA,EAAD,CAAQR,KAAK,YAAYS,GAAI,EAAGrE,UAAU,cAA1C,6BAGA,cAACoE,EAAA,EAAD,CACER,KAAK,mBACLS,GAAI,EACJrE,UAAU,cAHZ,mCAUJ,eAACuD,EAAA,EAAD,CAAYxB,MAAO,UAAW4B,SAAS,OAAvC,UACE,sBAAMH,MAAO,CAAEzB,MAAO,WAAtB,eADF,mBAC8D,IAC3DgB,EAFH,WAIA,eAACQ,EAAA,EAAD,CAAYxB,MAAO,UAAW4B,SAAS,OAAvC,UACE,sBAAMH,MAAO,CAAEzB,MAAO,WAAtB,eADF,WACsD,IACnDc,EAASyB,OACNC,QAAMC,OAAO5F,iBAAiBiE,EAASyB,QACvC,eAMd,sBACEtE,UAAS,eAAU2C,GAAQ,UAC3BN,QAAS,WACUO,GAAR,IAATD,IAHJ,UAME,cAACY,EAAA,EAAD,CAAYjB,QAAQ,SAASP,MAAO,UAAW0C,GAAG,SAAlD,kBAGA,gCACE,sBAAKzE,UAAU,MAAf,UACE,qBAAKA,UAAU,cACf,qBAAKA,UAAU,iBAEjB,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,cACf,qBAAKA,UAAU,uBAIrB,cAAC0E,EAAA,EAAD,CACEpC,QAAQ,aACRqC,OAAO,OACPhC,KAAMA,EACNiC,QAAS,kBAAMhC,GAAQ,IAJzB,SAME,eAACU,EAAA,EAAD,CAAKtB,GAAI,CAAE6C,QAAS,OAAQC,cAAe,SAAUC,QAAS,QAA9D,UACE,cAACX,EAAA,EAAD,CAAQR,KAAK,cAAb,wBACA,cAACQ,EAAA,EAAD,CAAQR,KAAK,UAAb,2BACA,cAACQ,EAAA,EAAD,CAAQR,KAAK,YAAb,6BACA,cAACQ,EAAA,EAAD,CAAQR,KAAK,mBAAb,6BACA,cAACQ,EAAA,EAAD,CAAQR,KAAK,aAAb,uBACA,cAACQ,EAAA,EAAD,CACE/B,QAAS,WN5EnBpE,OAAOC,iBAAiB8G,UACxB/G,OAAOuD,SAASC,UM8ENwD,UAAW,cAACC,EAAA,EAAD,IACX5C,QAAS,YALX,iC,2BC3HG6C,EAAW,WAAO,IAAD,EACAxE,IAAMC,SAAS,IADf,mBACrBM,EADqB,KACbkE,EADa,OAEAzE,IAAMC,SAAS,IAFf,mBAErByE,EAFqB,KAEbC,EAFa,OAGE3E,IAAMC,UAAS,GAHjB,mBAGrBG,EAHqB,KAGZC,EAHY,KAKtBC,EAAQ,uCAAG,sBAAAzD,EAAA,yDACA,KAAX0D,GAA4B,KAAXmE,EADN,iEAGbrE,GAAW,GAHE,SAIPX,EAAe,CAAEC,iBAAkBY,EAAQX,GAAI8E,IAAUjE,MAC7D,SAACC,GACCC,QAAQC,IAAIF,GACZpD,OAAOuD,SAASC,YAPP,uDAWbH,QAAQC,IAAI,CAAEG,MAAK,OAXN,yBAabV,GAAW,GAbE,4EAAH,qDAgBd,OACE,sBAAKd,GAAG,WAAWF,UAAU,SAA7B,UACE,oBAAGA,UAAU,QAAb,iCAEE,cAAC2B,EAAA,EAAD,CACEC,MAAM,+DACNC,OAAK,EAFP,SAIE,cAACC,EAAA,EAAD,CAAMC,MAAM,UAAUC,GAAI,CAAEC,OAAQ,kBAGxC,cAAC,EAAD,CACErC,KAAM,iBACNC,KAAK,SACLC,MAAOoB,EACPnB,SAAU,SAACmC,GAAD,OAAOkD,EAAUlD,EAAEC,OAAOrC,UAEtC,cAAC,EAAD,CACEF,KAAM,KACNC,KAAK,OACLC,MAAOuF,EACPtF,SAAU,SAACmC,GAAD,OAAOoD,EAAUpD,EAAEC,OAAOrC,UAEtC,cAACsC,EAAA,EAAD,CACEC,QAAS,kBAAMpB,KACfF,QAASA,EACTuB,QAAQ,YAHV,0BC5COiD,EAAW,WAAO,IAAD,EACA5E,IAAMC,SAAS,IADf,mBACrBM,EADqB,KACbkE,EADa,OAEJzE,IAAMC,SAAS,IAFX,mBAErBhB,EAFqB,KAEf4F,EAFe,OAGM7E,IAAMC,SAAS,IAHrB,mBAGrB6E,EAHqB,KAGVC,EAHU,OAIE/E,IAAMC,UAAS,GAJjB,mBAIrBG,EAJqB,KAIZC,EAJY,KAMtBC,EAAQ,uCAAG,sBAAAzD,EAAA,yDACA,KAAX0D,GAA0B,KAATtB,GAA6B,KAAd6F,EADrB,iEAGbzE,GAAW,GAHE,ULOY2E,EKHJ,CAAEzE,SAAQtB,OAAM6F,aLIzCE,EAASzF,GAAK0F,cACdD,EAASzE,OAASV,0BAAgBmF,EAASzE,OAAS,IAC7CjD,OAAOK,SAASuH,eAAe,CAAEF,cKNcvE,MAAK,SAACC,GACtDC,QAAQC,IAAIF,GACZpD,OAAOuD,SAASC,YANL,uDASbH,QAAQC,IAAI,CAAEG,MAAK,OATN,yBAWbV,GAAW,GAXE,+CLOZ,IAAwB2E,IKPZ,0BAAH,qDAed,OACE,sBAAKzF,GAAG,kBAAkBF,UAAU,SAApC,UACE,oBAAGA,UAAU,QAAb,iCAEE,cAAC2B,EAAA,EAAD,CAASC,MAAM,8BAA8BC,OAAK,EAAlD,SACE,cAACC,EAAA,EAAD,CAAMC,MAAM,UAAUC,GAAI,CAAEC,OAAQ,kBAGxC,cAAC,EAAD,CACErC,KAAM,OACNC,KAAK,OACLC,MAAOF,EACPG,SAAU,SAACmC,GAAD,OAAOsD,EAAQtD,EAAEC,OAAOrC,UAEpC,cAAC,EAAD,CACEF,KAAM,iBACNC,KAAK,SACLC,MAAOoB,EACPnB,SAAU,SAACmC,GAAD,OAAOkD,EAAUlD,EAAEC,OAAOrC,UAEtC,cAAC,EAAD,CACEF,KAAM,YACNC,KAAK,OACLC,MAAO2F,EACP1F,SAAU,SAACmC,GAAD,OAAOwD,EAAaxD,EAAEC,OAAOrC,UAEzC,cAACsC,EAAA,EAAD,CACEC,QAAS,kBAAMpB,KACfF,QAASA,EACTuB,QAAQ,YAHV,iC,+DClCS,SAASwD,IAAa,IAAD,EACAlF,mBAAS,IADT,mBAC3BmF,EAD2B,KAChBC,EADgB,OAERpF,mBAAS,IAFD,mBAE3BqF,EAF2B,KAEpBC,EAFoB,OAGFtF,mBAAS,IAHP,mBAG3BiC,EAH2B,KAGjBC,EAHiB,OAIJnC,IAAMC,UAAS,GAJX,mBAI3BG,EAJ2B,KAIlBC,EAJkB,KAM5BxC,EAAUP,OAAOC,iBAAiBM,UAElC2H,EAAejD,sBAAW,sBAAC,sBAAA1F,EAAA,kEAC/BwI,EAD+B,SNO1B/H,OAAOK,SAAS8H,eMPU,6EAE9B,IAEGC,EAAenD,sBAAW,sBAAC,8BAAA1F,EAAA,sENqB1BS,OAAOK,SAASgI,gBMrBU,UACzBhI,EADyB,OAE/B4H,EAAS5H,EAAS2H,QAEdzH,EAAQJ,UAJmB,gCAKVqC,EAAgBjC,EAAQJ,WALd,OAMhB,QADPgF,EALuB,UAO3B9B,QAAQC,IAAI6B,GACZN,EAAYM,IARe,2CAW9B,CAAC5E,EAAQJ,YAEZ,SAASmI,EAAWZ,GAClB,IAAMa,GAAM,IAAIC,MAAOC,UAEvB,QADoB,IAAID,KAAKE,SAAShB,EAASiB,MAAQ,KAClCJ,EAAM,GAG7B,SAASK,EAASzI,EAAWuH,GAC3B,OAAOA,EAASmB,OAAOC,SAAS3I,GAGlC,SAAS4I,EAASrB,GAChB,OACEA,EAASzF,GAAG+G,MAAM,EAAG,GACrB,MACAtB,EAASzF,GAAG+G,MAAMtB,EAASzF,GAAGgH,OAAS,EAAGvB,EAASzF,GAAGgH,QAI1D,SAASC,EAAYxB,GACnB,IAAIyB,EAAU,IAAIX,KAAKE,SAAShB,EAASiB,MAAQ,KAajD,OAXWQ,EAAQC,mBAAmB,QAAS,CAC7CC,QAAS,QACTC,KAAM,UACNC,MAAO,QACPC,IAAK,YAOO,KALHL,EAAQM,eAAe,QAAS,CACzCC,KAAM,UACNC,OAAQ,UACRC,QAAQ,IAKZ,IAAMC,EAAY,uCAAG,WAAOnC,GAAP,SAAAnI,EAAA,sEAEjBwD,GAAW,GAFM,UNtDM+G,EMyDJpC,EAASzF,GNxDzBjC,OAAOK,SAAS0J,KAAK,CAAED,gBMwDM3G,MAAK,SAACC,GACpCC,QAAQC,IAAIF,GACZpD,OAAOuD,SAASC,YALD,sDAQjBH,QAAQC,IAAI,CAAEG,MAAK,OARF,uBAUjBV,GAAW,GAVM,8CNtDhB,IAAsB+G,IMsDN,yBAAH,sDAcZE,EAAY,uCAAG,WAAOtC,GAAP,SAAAnI,EAAA,sEAEjBwD,GAAW,GAFM,UNhES+G,EMmEJpC,EAASzF,GNlE5BjC,OAAOK,SAAS4J,gBAAgB,CAAEH,gBMkEF3G,MAAK,SAACC,GACvCC,QAAQC,IAAIF,GACZpD,OAAOuD,SAASC,YALD,sDAQjBH,QAAQC,IAAI,CAAEG,MAAK,OARF,uBAUjBV,GAAW,GAVM,8CNhEhB,IAAyB+G,IMgET,yBAAH,sDAmBlB,OALA1E,qBAAU,WACR8C,IACAE,MACC,CAACF,EAAcE,IAGhB,qCACE,qBAAKnG,GAAG,YAAYF,UAAU,SAA9B,SACE,mBAAGA,UAAU,QAAb,8BAEF,cAACmI,EAAA,EAAD,CACEC,UAAWC,IACXrG,GAAI,CACFsG,WAAY,UACZC,aAAc,QAJlB,SAOE,eAACC,EAAA,EAAD,CAAOxG,GAAI,CAAEyG,SAAU,KAAOC,KAAK,QAAQC,aAAW,YAAtD,UACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,CACEpF,MAAM,SACN1B,GAAI,CAAED,MAAO,UAAW4B,SAAU,QAFpC,gBAMA,cAACmF,EAAA,EAAD,CACEpF,MAAM,SACN1B,GAAI,CAAED,MAAO,UAAW4B,SAAU,QAFpC,kBAMA,cAACmF,EAAA,EAAD,CACEpF,MAAM,SACN1B,GAAI,CAAED,MAAO,UAAW4B,SAAU,QAFpC,oBAMA,cAACmF,EAAA,EAAD,CACEpF,MAAM,SACN1B,GAAI,CAAED,MAAO,UAAW4B,SAAU,QAFpC,uBAMA,cAACmF,EAAA,EAAD,CACEpF,MAAM,SACN1B,GAAI,CAAED,MAAO,UAAW4B,SAAU,QAFpC,mBAMA,cAACmF,EAAA,EAAD,CACEpF,MAAM,SACN1B,GAAI,CAAED,MAAO,UAAW4B,SAAU,QAFpC,kBAMA,cAACmF,EAAA,EAAD,CACEpF,MAAM,SACN1B,GAAI,CAAED,MAAO,UAAW4B,SAAU,QAFpC,qBAMA,cAACmF,EAAA,EAAD,CACEpF,MAAM,SACN1B,GAAI,CAAED,MAAO,UAAW4B,SAAU,QAFpC,2BAUJ,cAACoF,EAAA,EAAD,UACGhD,EAAUiD,UAAUC,KAAI,SAACtD,GAAD,OACvB,eAACkD,EAAA,EAAD,CAEE7G,GAAI,CAAE,mCAAoC,CAAEkH,OAAQ,IAFtD,UAIE,cAACJ,EAAA,EAAD,CACEpF,MAAM,SACN0E,UAAU,KACVe,MAAM,MACNnH,GAAI,CAAED,MAAO,WAJf,SAMGiF,EAASrB,KAEZ,cAACmD,EAAA,EAAD,CAAWpF,MAAM,SAAS1B,GAAI,CAAED,MAAO,WAAvC,SACG4D,EAAS/F,OAEZ,eAACkJ,EAAA,EAAD,CAAWpF,MAAM,SAAS1B,GAAI,CAAED,MAAO,WAAvC,UACGwC,QAAMC,OAAO5F,iBAAiB+G,EAASzE,QAD1C,WAGA,cAAC4H,EAAA,EAAD,CAAWpF,MAAM,SAAS1B,GAAI,CAAED,MAAO,WAAvC,SACE,mBACE6B,KAAI,qDAAgD+B,EAASF,WAC7DtD,OAAO,SACP0B,IAAI,aAHN,SAKG8B,EAASF,cAGd,cAACqD,EAAA,EAAD,CAAWpF,MAAM,SAAS1B,GAAI,CAAED,MAAO,WAAvC,SACGwC,QAAMC,OAAO5F,iBAAiB+G,EAASyD,SAE1C,eAACN,EAAA,EAAD,CAAWpF,MAAM,SAAS1B,GAAI,CAAED,MAAO,WAAvC,UACG,IACAwE,EAAWZ,GACV,gBACE9C,GACFA,EAASwG,WACPxC,EAASrI,EAAQJ,UAAWuH,GAC1B,oBAEA,cAACvD,EAAA,EAAD,CACEC,QAAS,SAACH,GAAD,OAAO4F,EAAanC,IAC7B5E,QAASA,EACTuB,QAAQ,YAHV,kBAYJ,wBAGJ,cAACwG,EAAA,EAAD,CAAWpF,MAAM,SAAS1B,GAAI,CAAED,MAAO,WAAvC,SACGoF,EAAYxB,KAEf,cAACmD,EAAA,EAAD,CAAW9G,GAAI,CAAED,MAAO,WAAa2B,MAAM,SAA3C,SACGiC,EAAS2D,MACR3D,EAAS4D,SACP,MAEA,KAEAtD,IAAUzH,EAAQJ,UACpB,cAACgE,EAAA,EAAD,CACEC,QAAS,SAACH,GAAD,OAAO+F,EAAatC,IAC7B5E,QAASA,EACTuB,QAAQ,YAHV,qBAQA,SAxECqD,EAASzF,iBC/HfsJ,MA7Cf,WACE,IAAMC,EAAQC,YAAY,CACxBC,QAAS,CACPC,QAAS,CACPC,MAAO,UACPC,KAAM,UACNC,KAAM,YACNC,aAAc,WAIpB,OACE,cAACC,EAAA,EAAD,CAAeR,MAAOA,EAAtB,SACE,sBAAKzJ,UAAU,MAAf,UACE,cAAC,EAAD,IACA,eAAC,IAAD,WACE,cAAC,EAAD,IACA,cAACsD,EAAA,EAAD,CACEtB,GAAI,CACF6C,QAAS,OACTC,cAAe,SACfoF,WAAY,WACZC,eAAgB,YALpB,SAQE,cAAC,EAAD,MAEF,cAAC,EAAD,IACA,cAAC7G,EAAA,EAAD,CACEtB,GAAI,CACF6C,QAAS,OACTC,cAAe,SACfoF,WAAY,WACZC,eAAgB,YALpB,SAQE,cAAC,EAAD,MAEF,cAACrE,EAAD,a,UC5CJsE,GAAQ,SAAC,GAA+B,IAA7BxK,EAA4B,EAA5BA,KAAMb,EAAsB,EAAtBA,MAAOsL,EAAe,EAAfA,SAC5B,OAAkBA,EAEd,sBACErK,UAAU,aACVwD,MAAO,CAAE8E,WAAY,OAAQgC,UAAW,SAF1C,UAIE,8BACE,qBAAKC,IAAKF,EAAUG,IAAI,UAE1B,sBAAKxK,UAAU,WAAf,UACE,gCACE,oBAAIwD,MAAO,CAAEiH,OAAQ,QAArB,SAAgC7K,IAChC,mBAAG4D,MAAO,CAAEiH,OAAQ,UAApB,qDAGA,cAACrG,EAAA,EAAD,CACE/B,QAAStD,EACTuD,QAAQ,WACRP,MAAM,UACNkD,UAAW,cAACyF,GAAA,EAAD,IAJb,+BASF,sDAKD,MAOTN,GAAMO,aAAe,CACnB/K,KAAM,IAGOwK,UC9CA,OAA0B,gCC4B1BQ,I,OAnBH,WACV,IAAMpM,EAAUP,OAAOC,iBAAiBM,UAExC,OACE,qCACE,cAAC,EAAD,IACCA,EAAQJ,UACP,cAACyM,EAAA,EAAD,CAAWC,MAAM,KAAjB,SACE,+BACE,cAAC,EAAD,QAIJ,cAAC,GAAD,CAAOlL,KAAK,WAAWb,MAAOA,EAAOsL,SAAUA,UCRxCU,GAdS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqB7J,MAAK,YAEnB,IADL8J,EACI,EADJA,OAAQC,EACJ,EADIA,OAAQC,EACZ,EADYA,OAAQC,EACpB,EADoBA,OAAQC,EAC5B,EAD4BA,QAEhCJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHd/M,OAAOsN,gBfAA,WAAP,+BeAyBC,GACtBpK,MAAK,WACJqK,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,YAG3BC,MAAMxK,QAAQI,OAEjBqJ,O","file":"static/js/main.c5a8836f.chunk.js","sourcesContent":["const CONTRACT_NAME = process.env.CONTRACT_NAME || \"dao-dapp.testnet\"; // put here a smart contracts' name\n\nfunction environment(env) {\n  switch (env) {\n    case \"mainnet\":\n      return {\n        networkId: \"mainnet\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.near.org\",\n        helperUrl: \"https://helper.mainnet.near.org\",\n        explorerUrl: \"https://explorer.mainnet.near.org\",\n      };\n    case \"testnet\":\n      return {\n        networkId: \"testnet\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.testnet.near.org\",\n        helperUrl: \"https://helper.testnet.near.org\",\n        explorerUrl: \"https://explorer.testnet.near.org\",\n      };\n    default:\n      throw Error(`Unknown environment '${env}'.`);\n  }\n}\n\nexport default environment;\n","import environment from \"./config\";\nimport { connect, Contract, keyStores, WalletConnection } from \"near-api-js\";\nimport { formatNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst nearEnv = environment(\"testnet\");\n\nexport async function initializeContract() {\n  const near = await connect(\n    Object.assign(\n      { deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } },\n      nearEnv\n    )\n  );\n  window.walletConnection = new WalletConnection(near);\n  window.accountId = window.walletConnection.getAccountId();\n  window.contract = new Contract(\n    window.walletConnection.account(),\n    nearEnv.contractName,\n    {\n      // List here all view methods\n      viewMethods: [\n        \"getProposals\",\n        \"getInvestorData\",\n        \"hasVoted\",\n        \"contractParam\",\n      ],\n      // List call methods that change state\n      changeMethods: [\n        \"contributeToDAO\",\n        \"redeemShares\",\n        \"transferShares\",\n        \"createProposal\",\n        \"vote\",\n        \"executeProposal\",\n      ],\n    }\n  );\n}\n\nexport async function accountBalance() {\n  return formatNearAmount(\n    (await window.walletConnection.account().getAccountBalance()).total,\n    2\n  );\n}\n\nexport async function getAccountId() {\n  return window.walletConnection.getAccountId();\n}\n\nexport function login() {\n  window.walletConnection.requestSignIn(nearEnv.contractName);\n}\n\nexport function logout() {\n  window.walletConnection.signOut();\n  window.location.reload();\n}\n","import React from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport PropTypes from \"prop-types\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nconst Notification = () => (\n  <ToastContainer\n    position=\"bottom-center\"\n    autoClose={5000}\n    hideProgressBar\n    newestOnTop\n    closeOnClick\n    rtl={false}\n    pauseOnFocusLoss\n    draggable={false}\n    pauseOnHover\n  />\n);\n\nconst NotificationSuccess = ({ text }) => (\n  <div>\n    <i className=\"bi bi-check-circle-fill text-success mx-2\" />\n    <span className=\"text-secondary mx-1\">{text}</span>\n  </div>\n);\n\nconst NotificationError = ({ text }) => (\n  <div>\n    <i className=\"bi bi-x-circle-fill text-danger mx-2\" />\n    <span className=\"text-secondary mx-1\">{text}</span>\n  </div>\n);\n\nconst Props = {\n  text: PropTypes.string,\n};\n\nconst DefaultProps = {\n  text: \"\",\n};\n\nNotificationSuccess.propTypes = Props;\nNotificationSuccess.defaultProps = DefaultProps;\n\nNotificationError.propTypes = Props;\nNotificationError.defaultProps = DefaultProps;\n\nexport { Notification, NotificationSuccess, NotificationError };\n","import React from \"react\"\nimport \"../../input.css\"\n\nexport const Input = ({ name, type, value, onChange }) => {\n  return (\n    <div className=\"form__group field\">\n      <input\n        type={type}\n        className=\"form__field\"\n        placeholder={name}\n        name={name}\n        id={name}\n        value={value}\n        onChange={onChange}\n        required\n      />\n      <label htmlFor={name} className=\"form__label\">\n        {name}\n      </label>\n    </div>\n  )\n}\n","import { v4 as uuid4 } from \"uuid\";\nimport { parseNearAmount } from \"near-api-js/lib/utils/format\";\n\nconst GAS = 100000000000000;\n\nexport function contributToDAO(amount) {\n  amount = parseNearAmount(amount + \"\");\n  return window.contract.contributeToDAO({}, GAS, amount);\n}\n\nexport function redeemShares(amountToRedeem) {\n  amountToRedeem = parseNearAmount(amountToRedeem + \"\");\n  return window.contract.redeemShares({ amountToRedeem });\n}\n\nexport function transferShares({ amountToTransfer, to }) {\n  amountToTransfer = parseNearAmount(amountToTransfer + \"\");\n  return window.contract.transferShares({ amountToTransfer, to });\n}\n\nexport function createProposal(proposal) {\n  proposal.id = uuid4();\n  proposal.amount = parseNearAmount(proposal.amount + \"\");\n  return window.contract.createProposal({ proposal });\n}\n\nexport function voteProposal(proposalId) {\n  return window.contract.vote({ proposalId });\n}\n\nexport function executeProposal(proposalId) {\n  return window.contract.executeProposal({ proposalId });\n}\n\nexport function getProposals() {\n  return window.contract.getProposals();\n}\n\nexport function getInvestorData(accountId) {\n  return window.contract.getInvestorData({ accountId });\n}\n\nexport function checkIfInvestorHasVoted({ accountId, proposalId }) {\n  let hasVoted = new Promise(async (resolve, reject) => {\n    const _hasVoted = await window.contract.hasVoted({ accountId, proposalId });\n\n    resolve(_hasVoted);\n  });\n\n  return hasVoted;\n}\n\nexport function getContractParams() {\n  return window.contract.contractParam();\n}\n","import LoadingButton from \"@mui/lab/LoadingButton\";\nimport React from \"react\";\nimport { Input } from \"./Form\";\nimport { Tooltip } from \"@mui/material\";\nimport { Info } from \"@mui/icons-material\";\nimport { contributToDAO } from \"../../utils/dao\";\n\nexport const Contribute = () => {\n  const [inputValue, setInputValue] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  const startTxn = async () => {\n    if (inputValue === \"\") return;\n    try {\n      setLoading(true);\n      await contributToDAO(inputValue).then((resp) => {\n        console.log(\"done\");\n        window.location.reload();\n      });\n    } catch (error) {\n      console.log({ error });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div id=\"contribute\" className=\"option\">\n      <p className=\"title\">\n        Contribute. _01\n        <Tooltip title=\"Deposit token to join Dao and receive shares\" arrow>\n          <Info color=\"primary\" sx={{ cursor: \"pointer\" }} />\n        </Tooltip>\n      </p>\n      <Input\n        name={\"Amount In NEAR\"}\n        type=\"number\"\n        value={inputValue}\n        onChange={(e) => setInputValue(e.target.value)}\n      />\n      <LoadingButton\n        onClick={() => startTxn()}\n        loading={loading}\n        variant=\"contained\"\n      >\n        Contribute\n      </LoadingButton>\n    </div>\n  );\n};\n","import LoadingButton from \"@mui/lab/LoadingButton\";\nimport React from \"react\";\nimport { Input } from \"./Form\";\nimport { Tooltip } from \"@mui/material\";\nimport { Info } from \"@mui/icons-material\";\nimport { redeemShares } from \"../../utils/dao\";\n\nexport const Redeem = () => {\n  const [inputValue, setInputValue] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  const startTxn = async () => {\n    if (inputValue === \"\") return;\n    try {\n      setLoading(true);\n      await redeemShares(inputValue).then((resp) => {\n        console.log(resp);\n        window.location.reload();\n      });\n    } catch (error) {\n      console.log({ error });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div id=\"redeem\" className=\"option\">\n      <p className=\"title\">\n        Redeem Shares. _02\n        <Tooltip title=\"Convert shares back to token\" arrow>\n          <Info color=\"primary\" sx={{ cursor: \"pointer\" }} />\n        </Tooltip>\n      </p>\n      <Input\n        name={\"Amount of Shares\"}\n        type=\"number\"\n        value={inputValue}\n        onChange={(e) => setInputValue(e.target.value)}\n      />\n      <LoadingButton\n        onClick={() => startTxn()}\n        loading={loading}\n        variant=\"contained\"\n      >\n        Redeem\n      </LoadingButton>\n    </div>\n  );\n};\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport { logout as destroy, accountBalance } from \"../../utils/near\";\nimport { Typography, Box, Grid, Button } from \"@mui/material\";\nimport { Drawer } from \"@mui/material\";\nimport { Logout } from \"@mui/icons-material\";\nimport { getInvestorData } from \"../../utils/dao\";\nimport { utils } from \"near-api-js\";\n\nexport const Header = () => {\n  const [open, setOpen] = useState(false);\n  const [userData, setUserData] = useState({});\n\n  const account = window.walletConnection.account();\n\n  const [balance, setBalance] = useState(\"0\");\n\n  const getBalance = useCallback(async () => {\n    if (account.accountId) {\n      setBalance(await accountBalance());\n    }\n  }, [account.accountId]);\n\n  const retrieveUserData = useCallback(async () => {\n    if (account.accountId) {\n      const data = await getInvestorData(account.accountId);\n      if (data !== null) {\n        setUserData(data);\n      }\n    }\n  }, [account.accountId]);\n\n  useEffect(() => {\n    getBalance();\n    retrieveUserData();\n  }, [getBalance, retrieveUserData]);\n\n  return (\n    <>\n      <Box className=\"hero\">\n        <Box className=\"hero_dao\">\n          <Box className=\"logo\">\n            <Typography variant=\"string\">\n              Dao <span style={{ opacity: \"0.5\" }}>DApp.</span>\n            </Typography>\n          </Box>\n          <Typography align=\"center\" variant=\"string\" className=\"dao_showcase\">\n            DAO DApp\n          </Typography>\n          <Box className=\"options\">\n            <Box>\n              <Typography color={\"#aec1c5\"} fontSize=\"1.2rem\">\n                {\" \"}\n                <span style={{ color: \"#fcbd7a\" }}>#</span> Account:{\" \"}\n                <a\n                  href={`https://explorer.testnet.near.org/accounts/${account.accountId}`}\n                  target=\"_blank\"\n                  rel=\"noreferrer\"\n                >\n                  {account.accountId}\n                </a>\n              </Typography>\n              <Grid container spacing={0} width=\"25rem\" marginY={\"0.5rem\"}>\n                <Grid item>\n                  <Button href=\"#contribute\" xs={6} className=\"options-nav\">\n                    Contribute\n                  </Button>\n                  <Button href=\"#redeem\" xs={6} className=\"options-nav\">\n                    redeem shares\n                  </Button>\n                </Grid>\n                <Grid item>\n                  <Button href=\"#transfer\" xs={6} className=\"options-nav\">\n                    transfer shares\n                  </Button>\n                  <Button\n                    href=\"#create-proposal\"\n                    xs={6}\n                    className=\"options-nav\"\n                  >\n                    Create proposal\n                  </Button>\n                </Grid>\n              </Grid>\n\n              <Typography color={\"#aec1c5\"} fontSize=\"1rem\">\n                <span style={{ color: \"#fcbd7a\" }}>#</span> Wallet Balance:{\" \"}\n                {balance} NEAR\n              </Typography>\n              <Typography color={\"#aec1c5\"} fontSize=\"1rem\">\n                <span style={{ color: \"#fcbd7a\" }}>#</span> Shares:{\" \"}\n                {userData.shares\n                  ? utils.format.formatNearAmount(userData.shares)\n                  : 0}\n              </Typography>\n            </Box>\n          </Box>\n        </Box>\n      </Box>\n      <div\n        className={`menu ${open && \"active\"}`}\n        onClick={() => {\n          open === false ? setOpen(true) : setOpen(false);\n        }}\n      >\n        <Typography variant=\"button\" color={\"#fcbd7a\"} mr=\"0.5rem\">\n          menu\n        </Typography>\n        <div>\n          <div className=\"one\">\n            <div className=\"menu-dots\"></div>\n            <div className=\"menu-dots\"></div>\n          </div>\n          <div className=\"two\">\n            <div className=\"menu-dots\"></div>\n            <div className=\"menu-dots\"></div>\n          </div>\n        </div>\n      </div>\n      <Drawer\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n        onClose={() => setOpen(false)}\n      >\n        <Box sx={{ display: \"flex\", flexDirection: \"column\", padding: \"3rem\" }}>\n          <Button href=\"#contribute\">Contribute</Button>\n          <Button href=\"#redeem\">redeem shares</Button>\n          <Button href=\"#transfer\">transfer shares</Button>\n          <Button href=\"#create-proposal\">create proposal</Button>\n          <Button href=\"#proposals\">Proposals</Button>\n          <Button\n            onClick={() => {\n              destroy();\n            }}\n            startIcon={<Logout />}\n            variant={\"contained\"}\n          >\n            disconnect\n          </Button>\n        </Box>\n      </Drawer>\n    </>\n  );\n};\n","import LoadingButton from \"@mui/lab/LoadingButton\";\nimport React from \"react\";\nimport { Input } from \"./Form\";\nimport { Tooltip } from \"@mui/material\";\nimport { Info } from \"@mui/icons-material\";\nimport { transferShares } from \"../../utils/dao\";\n\nexport const Transfer = () => {\n  const [amount, setAmount] = React.useState(\"\");\n  const [sendTo, setSendTo] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  const startTxn = async () => {\n    if (amount === \"\" && sendTo === \"\") return;\n    try {\n      setLoading(true);\n      await transferShares({ amountToTransfer: amount, to: sendTo }).then(\n        (resp) => {\n          console.log(resp);\n          window.location.reload();\n        }\n      );\n    } catch (error) {\n      console.log({ error });\n    } finally {\n      setLoading(false);\n    }\n  };\n  return (\n    <div id=\"transfer\" className=\"option\">\n      <p className=\"title\">\n        Transfer Shares. _03\n        <Tooltip\n          title=\"Transfer shares to other accounts making them members of Dao\"\n          arrow\n        >\n          <Info color=\"primary\" sx={{ cursor: \"pointer\" }} />\n        </Tooltip>\n      </p>\n      <Input\n        name={\"Amount In NEAR\"}\n        type=\"number\"\n        value={amount}\n        onChange={(e) => setAmount(e.target.value)}\n      />\n      <Input\n        name={\"To\"}\n        type=\"text\"\n        value={sendTo}\n        onChange={(e) => setSendTo(e.target.value)}\n      />\n      <LoadingButton\n        onClick={() => startTxn()}\n        loading={loading}\n        variant=\"contained\"\n      >\n        Transfer\n      </LoadingButton>\n    </div>\n  );\n};\n","import LoadingButton from \"@mui/lab/LoadingButton\";\nimport React from \"react\";\nimport { Input } from \"./Form\";\nimport { Tooltip } from \"@mui/material\";\nimport { Info } from \"@mui/icons-material\";\nimport { createProposal } from \"../../utils/dao\";\n\nexport const Proposal = () => {\n  const [amount, setAmount] = React.useState(\"\");\n  const [name, setName] = React.useState(\"\");\n  const [recipient, setRecipient] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n\n  const startTxn = async () => {\n    if (amount === \"\" && name === \"\" && recipient === \"\") return;\n    try {\n      setLoading(true);\n      await createProposal({ amount, name, recipient }).then((resp) => {\n        console.log(resp);\n        window.location.reload();\n      });\n    } catch (error) {\n      console.log({ error });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div id=\"create-proposal\" className=\"option\">\n      <p className=\"title\">\n        Create Proposal. _04\n        <Tooltip title=\"Kickstart your new proposal\" arrow>\n          <Info color=\"primary\" sx={{ cursor: \"pointer\" }} />\n        </Tooltip>\n      </p>\n      <Input\n        name={\"Name\"}\n        type=\"text\"\n        value={name}\n        onChange={(e) => setName(e.target.value)}\n      />\n      <Input\n        name={\"Amount In NEAR\"}\n        type=\"number\"\n        value={amount}\n        onChange={(e) => setAmount(e.target.value)}\n      />\n      <Input\n        name={\"Recipient\"}\n        type=\"text\"\n        value={recipient}\n        onChange={(e) => setRecipient(e.target.value)}\n      />\n      <LoadingButton\n        onClick={() => startTxn()}\n        loading={loading}\n        variant=\"contained\"\n      >\n        Create Proposal\n      </LoadingButton>\n    </div>\n  );\n};\n","import React, { useEffect, useCallback, useState } from \"react\";\nimport LoadingButton from \"@mui/lab/LoadingButton\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableContainer,\n  TableRow,\n  Paper,\n} from \"@mui/material\";\nimport {\n  getProposals,\n  voteProposal,\n  getContractParams,\n  executeProposal,\n  getInvestorData,\n} from \"../../utils/dao\";\nimport { utils } from \"near-api-js\";\n\nexport default function Proposals() {\n  const [proposals, setProposals] = useState([]);\n  const [admin, setAdmin] = useState(\"\");\n  const [userData, setUserData] = useState({});\n  const [loading, setLoading] = React.useState(false);\n\n  const account = window.walletConnection.account();\n\n  const allProposals = useCallback(async () => {\n    setProposals(await getProposals());\n  }, []);\n\n  const retrieveData = useCallback(async () => {\n    const contract = await getContractParams();\n    setAdmin(contract.admin);\n\n    if (account.accountId) {\n      const data = await getInvestorData(account.accountId);\n      if (data !== null) {\n        console.log(data);\n        setUserData(data);\n      }\n    }\n  }, [account.accountId]);\n\n  function isFinished(proposal) {\n    const now = new Date().getTime();\n    const proposalEnd = new Date(parseInt(proposal.ends) / 1000000);\n    return proposalEnd > now > 0 ? false : true;\n  }\n\n  function hasVoted(accountId, proposal) {\n    return proposal.voters.includes(accountId);\n  }\n\n  function formatID(proposal) {\n    return (\n      proposal.id.slice(0, 5) +\n      \"...\" +\n      proposal.id.slice(proposal.id.length - 4, proposal.id.length)\n    );\n  }\n\n  function convertTime(proposal) {\n    let dateObj = new Date(parseInt(proposal.ends) / 1000000);\n\n    let date = dateObj.toLocaleDateString(\"en-us\", {\n      weekday: \"short\",\n      year: \"numeric\",\n      month: \"short\",\n      day: \"numeric\",\n    });\n    let time = dateObj.toLocaleString(\"en-us\", {\n      hour: \"numeric\",\n      minute: \"numeric\",\n      hour12: true,\n    });\n    return date + \", \" + time;\n  }\n\n  const startVoteTxn = async (proposal) => {\n    try {\n      setLoading(true);\n      await voteProposal(proposal.id).then((resp) => {\n        console.log(resp);\n        window.location.reload();\n      });\n    } catch (error) {\n      console.log({ error });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const startExecTxn = async (proposal) => {\n    try {\n      setLoading(true);\n      await executeProposal(proposal.id).then((resp) => {\n        console.log(resp);\n        window.location.reload();\n      });\n    } catch (error) {\n      console.log({ error });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    allProposals();\n    retrieveData();\n  }, [allProposals, retrieveData]);\n\n  return (\n    <>\n      <div id=\"proposals\" className=\"option\">\n        <p className=\"title\">Proposals. _05</p>\n      </div>\n      <TableContainer\n        component={Paper}\n        sx={{\n          background: \"#02315a\",\n          marginBottom: \"5rem\",\n        }}\n      >\n        <Table sx={{ minWidth: 650 }} size=\"small\" aria-label=\"proposals\">\n          <TableHead>\n            <TableRow>\n              <TableCell\n                align=\"center\"\n                sx={{ color: \"#aec1c5\", fontSize: \"1rem\" }}\n              >\n                ID\n              </TableCell>\n              <TableCell\n                align=\"center\"\n                sx={{ color: \"#aec1c5\", fontSize: \"1rem\" }}\n              >\n                Name\n              </TableCell>\n              <TableCell\n                align=\"center\"\n                sx={{ color: \"#aec1c5\", fontSize: \"1rem\" }}\n              >\n                Amount\n              </TableCell>\n              <TableCell\n                align=\"center\"\n                sx={{ color: \"#aec1c5\", fontSize: \"1rem\" }}\n              >\n                Recipient\n              </TableCell>\n              <TableCell\n                align=\"center\"\n                sx={{ color: \"#aec1c5\", fontSize: \"1rem\" }}\n              >\n                Votes\n              </TableCell>\n              <TableCell\n                align=\"center\"\n                sx={{ color: \"#aec1c5\", fontSize: \"1rem\" }}\n              >\n                Vote\n              </TableCell>\n              <TableCell\n                align=\"center\"\n                sx={{ color: \"#aec1c5\", fontSize: \"1rem\" }}\n              >\n                Ends on\n              </TableCell>\n              <TableCell\n                align=\"center\"\n                sx={{ color: \"#aec1c5\", fontSize: \"1rem\" }}\n              >\n                Executed\n              </TableCell>\n            </TableRow>\n          </TableHead>\n\n          {/* ****************Table Body*************** */}\n          <TableBody>\n            {proposals.reverse().map((proposal) => (\n              <TableRow\n                key={proposal.id}\n                sx={{ \"&:last-child td, &:last-child th\": { border: 0 } }}\n              >\n                <TableCell\n                  align=\"center\"\n                  component=\"th\"\n                  scope=\"row\"\n                  sx={{ color: \"#aec1c5\" }}\n                >\n                  {formatID(proposal)}\n                </TableCell>\n                <TableCell align=\"center\" sx={{ color: \"#aec1c5\" }}>\n                  {proposal.name}\n                </TableCell>\n                <TableCell align=\"center\" sx={{ color: \"#aec1c5\" }}>\n                  {utils.format.formatNearAmount(proposal.amount)} NEAR\n                </TableCell>\n                <TableCell align=\"center\" sx={{ color: \"#aec1c5\" }}>\n                  <a\n                    href={`https://explorer.testnet.near.org/accounts/${proposal.recipient}`}\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    {proposal.recipient}\n                  </a>\n                </TableCell>\n                <TableCell align=\"center\" sx={{ color: \"#aec1c5\" }}>\n                  {utils.format.formatNearAmount(proposal.votes)}\n                </TableCell>\n                <TableCell align=\"center\" sx={{ color: \"#aec1c5\" }}>\n                  {\" \"}\n                  {isFinished(proposal) ? (\n                    \"Vote finished\"\n                  ) : userData ? (\n                    userData.isInvestor ? (\n                      hasVoted(account.accountId, proposal) ? (\n                        \"You already voted\"\n                      ) : (\n                        <LoadingButton\n                          onClick={(e) => startVoteTxn(proposal)}\n                          loading={loading}\n                          variant=\"contained\"\n                        >\n                          Vote\n                        </LoadingButton>\n                      )\n                    ) : (\n                      \"Voting In Progress\"\n                    )\n                  ) : (\n                    \"Voting In Progress\"\n                  )}\n                </TableCell>\n                <TableCell align=\"center\" sx={{ color: \"#aec1c5\" }}>\n                  {convertTime(proposal)}\n                </TableCell>\n                <TableCell sx={{ color: \"#aec1c5\" }} align=\"center\">\n                  {proposal.ended ? (\n                    proposal.executed ? (\n                      \"Yes\"\n                    ) : (\n                      \"No\"\n                    )\n                  ) : admin === account.accountId ? (\n                    <LoadingButton\n                      onClick={(e) => startExecTxn(proposal)}\n                      loading={loading}\n                      variant=\"contained\"\n                    >\n                      Execute\n                    </LoadingButton>\n                  ) : (\n                    \"No\"\n                  )}\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n}\n","import { Contribute } from \"./Contribute\";\nimport { Redeem } from \"./Redeem\";\nimport { Header } from \"./Header\";\nimport { Container } from \"@mui/system\";\nimport { Box } from \"@mui/material\";\nimport { ThemeProvider } from \"@mui/material\";\nimport { createTheme } from \"@mui/material/styles\";\nimport { Transfer } from \"./Transfer\";\nimport { Proposal } from \"./CreateProposal\";\nimport Proposals from \"./Proposals\";\n\nfunction Dao() {\n  const theme = createTheme({\n    palette: {\n      primary: {\n        light: \"#fcbd7a\",\n        main: \"#f1a14b\",\n        dark: \"#fdb261d8\",\n        contrastText: \"#fff\",\n      },\n    },\n  });\n  return (\n    <ThemeProvider theme={theme}>\n      <div className=\"app\">\n        <Header />\n        <Container>\n          <Contribute />\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"flex-end\",\n              justifyContent: \"flex-end\",\n            }}\n          >\n            <Redeem />\n          </Box>\n          <Transfer />\n          <Box\n            sx={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              alignItems: \"flex-end\",\n              justifyContent: \"flex-end\",\n            }}\n          >\n            <Proposal />\n          </Box>\n          <Proposals />\n        </Container>\n      </div>\n    </ThemeProvider>\n  );\n}\n\nexport default Dao;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button } from \"@mui/material\";\nimport { AccountBalanceWallet } from \"@mui/icons-material\";\n\nconst Cover = ({ name, login, coverImg }) => {\n  if ((name, login, coverImg)) {\n    return (\n      <div\n        className=\"cover-page\"\n        style={{ background: \"#000\", minHeight: \"100vh\" }}\n      >\n        <div>\n          <img src={coverImg} alt=\"dao\" />\n        </div>\n        <div className=\"loginBox\">\n          <div>\n            <h1 style={{ margin: \"1rem\" }}>{name}</h1>\n            <p style={{ margin: \"0.5rem\" }}>\n              Please connect your wallet to continue.\n            </p>\n            <Button\n              onClick={login}\n              variant=\"outlined\"\n              color=\"primary\"\n              startIcon={<AccountBalanceWallet />}\n            >\n              Connect Wallet\n            </Button>\n          </div>\n          <p>Powered by NEAR</p>\n        </div>\n      </div>\n    );\n  }\n  return null;\n};\n\nCover.propTypes = {\n  name: PropTypes.string,\n};\n\nCover.defaultProps = {\n  name: \"\",\n};\n\nexport default Cover;\n","export default __webpack_public_path__ + \"static/media/DAO.d4104a3f.jpg\";","import React from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { login } from \"./utils/near\";\nimport { Notification } from \"./components/utils/Notifications\";\nimport Dao from \"./components/dao\";\nimport Cover from \"./components/utils/Cover\";\nimport coverImg from \"./assets/img/DAO.jpg\";\nimport \"./App.css\";\n\nconst App = function AppWrapper() {\n  const account = window.walletConnection.account();\n\n  return (\n    <>\n      <Notification />\n      {account.accountId ? (\n        <Container fluid=\"md\">\n          <main>\n            <Dao />\n          </main>\n        </Container>\n      ) : (\n        <Cover name=\"DAO DApp\" login={login} coverImg={coverImg} />\n      )}\n    </>\n  );\n};\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { initializeContract } from \"./utils/near\";\n\nwindow.nearInitPromise = initializeContract()\n  .then(() => {\n    ReactDOM.render(\n      <React.StrictMode>\n        <App />\n      </React.StrictMode>,\n      document.getElementById(\"root\")\n    );\n  })\n  .catch(console.error);\n\nreportWebVitals();\n"],"sourceRoot":""}